<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全球股市指數地圖</title>
    <meta name="description" content="全球股市指數即時數據地圖，包含美國、德國、英國、法國、日本、韓國、台灣、香港、中國等主要市場指數">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90' style='filter: grayscale(100%);'>🌐</text></svg>">
    <link rel="stylesheet" href="styles.css">

    <!-- Preconnect to Google Fonts for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Google Material Icons with display=swap to prevent FOIT -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    
    <!-- amCharts 5 Libraries -->
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
</head>
<body>
    <!-- Logo -->
    <div class="logo">World Stock</div>

    <!-- Floating Filter Tabs (Google Maps Style) -->
    <div class="filter-tabs">
        <button class="filter-tab active" data-mode="stock" onclick="switchMode('stock')">
            <span class="material-symbols-outlined">show_chart</span>
            股市指數
        </button>
        <button class="filter-tab" data-mode="etf" onclick="switchMode('etf')">
            <span class="material-symbols-outlined">public</span>
            國家 ETF
        </button>
    </div>

    <!-- World Map Container -->
    <div class="map-container">
        <!-- Map Background -->
        <div id="chartdiv" class="world-map"></div>

        <!-- Stock Index Cards -->
        
        <!-- 美國指數 -->
        <div class="index-card" style="left: 23.7%; top: 32.6%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/us.png" alt="US Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">道瓊指數</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 英國指數 -->
        <div class="index-card" style="left: 38.1%; top: 28.5%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/gb.png" alt="UK Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">英國指數</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 德國指數 -->
        <div class="index-card" style="left: 53.4%; top: 40.9%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/de.png" alt="Germany Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">德國指數</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 法國指數 -->
        <div class="index-card" style="left: 38.5%; top: 49.3%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/fr.png" alt="France Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">法國指數</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 南韓綜合 -->
        <div class="index-card" style="left: 65%; top: 40.9%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/kr.png" alt="South Korea Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">南韓綜合</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 日本日經 -->
        <div class="index-card" style="left: 81%; top: 46%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/jp.png" alt="Japan Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">日本日經</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 香港恆生 -->
        <div class="index-card" style="left: 63.1%; top: 60.2%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/hk.png" alt="Hong Kong Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">香港恆生</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- 加權指數 -->
        <div class="index-card" style="left: 76%; top: 60%;">
            <div class="card-header">
                <img src="https://flagcdn.com/w40/tw.png" alt="Taiwan Flag" class="flag">
                <div class="date-status">
                    <div class="date">-</div>
                    <div class="status closed">載入中...</div>
                </div>
            </div>
            <div class="index-name">加權指數</div>
            <div class="index-value neutral skeleton">---------- <span class="change">--------</span></div>
        </div>

        <!-- ETF 資訊卡（按洲分組） -->

        <!-- 世界組合 ETF -->
        <div class="etf-card" style="left: 88.7%; top: 1.2%;">
            <div class="etf-card-header">
                <div class="etf-card-title">🌍 世界組合</div>
            </div>
            <div class="etf-list">
                <!-- 組合 1: VT -->
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">VT</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>

                <div class="etf-divider"></div>

                <!-- 組合 2: VXUS + AAXJ -->
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">VXUS</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">AAXJ</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>

                <div class="etf-divider"></div>

                <!-- 組合 3: VTI + VGK + VPL + VWO -->
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">VTI</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">VGK</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">VPL</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">VWO</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>

                <div class="etf-divider"></div>

                <!-- 組合 4: ITOT + IEFA + IEUR + IPAC + IEMG -->
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">ITOT</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">IEFA</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">IEUR</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">IPAC</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="world">
                    <span class="etf-symbol">IEMG</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 北美 ETF -->
        <div class="etf-card" style="left: 11.3%; top: 46.8%;">
            <div class="etf-card-header">
                <div class="etf-card-title">北美 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="us">
                    <img src="https://flagcdn.com/w40/us.png" class="etf-flag">
                    <span class="etf-country">美國</span>
                    <span class="etf-symbol">VTI</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="us">
                    <img src="https://flagcdn.com/w40/us.png" class="etf-flag">
                    <span class="etf-country">美國</span>
                    <span class="etf-symbol">VUG</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="us">
                    <img src="https://flagcdn.com/w40/us.png" class="etf-flag">
                    <span class="etf-country">美國</span>
                    <span class="etf-symbol">VTV</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="ca">
                    <img src="https://flagcdn.com/w40/ca.png" class="etf-flag">
                    <span class="etf-country">加拿大</span>
                    <span class="etf-symbol">EWC</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 南美 ETF -->
        <div class="etf-card" style="left: 20.2%; top: 73.4%;">
            <div class="etf-card-header">
                <div class="etf-card-title">南美 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="br">
                    <img src="https://flagcdn.com/w40/br.png" class="etf-flag">
                    <span class="etf-country">巴西</span>
                    <span class="etf-symbol">EWZ</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="mx">
                    <img src="https://flagcdn.com/w40/mx.png" class="etf-flag">
                    <span class="etf-country">墨西哥</span>
                    <span class="etf-symbol">EWW</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="ar">
                    <img src="https://flagcdn.com/w40/ar.png" class="etf-flag">
                    <span class="etf-country">阿根廷</span>
                    <span class="etf-symbol">ARGT</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="co">
                    <img src="https://flagcdn.com/w40/co.png" class="etf-flag">
                    <span class="etf-country">哥倫比亞</span>
                    <span class="etf-symbol">COLO</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 西歐 ETF -->
        <div class="etf-card" style="left: 34.7%; top: 27.2%;">
            <div class="etf-card-header">
                <div class="etf-card-title">西歐 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="gb">
                    <img src="https://flagcdn.com/w40/gb.png" class="etf-flag">
                    <span class="etf-country">英國</span>
                    <span class="etf-symbol">EWU</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="ie">
                    <img src="https://flagcdn.com/w40/ie.png" class="etf-flag">
                    <span class="etf-country">愛爾蘭</span>
                    <span class="etf-symbol">EIRL</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="nl">
                    <img src="https://flagcdn.com/w40/nl.png" class="etf-flag">
                    <span class="etf-country">荷蘭</span>
                    <span class="etf-symbol">EWN</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="pl">
                    <img src="https://flagcdn.com/w40/pl.png" class="etf-flag">
                    <span class="etf-country">波蘭</span>
                    <span class="etf-symbol">EPOL</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="de">
                    <img src="https://flagcdn.com/w40/de.png" class="etf-flag">
                    <span class="etf-country">德國</span>
                    <span class="etf-symbol">EWG</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="be">
                    <img src="https://flagcdn.com/w40/be.png" class="etf-flag">
                    <span class="etf-country">比利時</span>
                    <span class="etf-symbol">EWK</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="fr">
                    <img src="https://flagcdn.com/w40/fr.png" class="etf-flag">
                    <span class="etf-country">法國</span>
                    <span class="etf-symbol">EWQ</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="ch">
                    <img src="https://flagcdn.com/w40/ch.png" class="etf-flag">
                    <span class="etf-country">瑞士</span>
                    <span class="etf-symbol">EWL</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="at">
                    <img src="https://flagcdn.com/w40/at.png" class="etf-flag">
                    <span class="etf-country">奧地利</span>
                    <span class="etf-symbol">EWO</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 南歐 ETF -->
        <div class="etf-card" style="left: 44.2%; top: 57.1%;">
            <div class="etf-card-header">
                <div class="etf-card-title">南歐 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="it">
                    <img src="https://flagcdn.com/w40/it.png" class="etf-flag">
                    <span class="etf-country">義大利</span>
                    <span class="etf-symbol">EWI</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="es">
                    <img src="https://flagcdn.com/w40/es.png" class="etf-flag">
                    <span class="etf-country">西班牙</span>
                    <span class="etf-symbol">EWP</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 北歐 ETF -->
        <div class="etf-card" style="left: 48.4%; top: 22.6%;">
            <div class="etf-card-header">
                <div class="etf-card-title">北歐 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="se">
                    <img src="https://flagcdn.com/w40/se.png" class="etf-flag">
                    <span class="etf-country">瑞典</span>
                    <span class="etf-symbol">EWD</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="no">
                    <img src="https://flagcdn.com/w40/no.png" class="etf-flag">
                    <span class="etf-country">挪威</span>
                    <span class="etf-symbol">NORW</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="dk">
                    <img src="https://flagcdn.com/w40/dk.png" class="etf-flag">
                    <span class="etf-country">丹麥</span>
                    <span class="etf-symbol">EDEN</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 東亞 ETF -->
        <div class="etf-card" style="left: 72.3%; top: 38.4%;">
            <div class="etf-card-header">
                <div class="etf-card-title">東亞 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="cn">
                    <img src="https://flagcdn.com/w40/cn.png" class="etf-flag">
                    <span class="etf-country">中國</span>
                    <span class="etf-symbol">CNYA</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="jp">
                    <img src="https://flagcdn.com/w40/jp.png" class="etf-flag">
                    <span class="etf-country">日本</span>
                    <span class="etf-symbol">EWJ</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 亞洲四小龍 ETF -->
        <div class="etf-card" style="left: 77.4%; top: 57.1%;">
            <div class="etf-card-header">
                <div class="etf-card-title">亞洲四小龍 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="kr">
                    <img src="https://flagcdn.com/w40/kr.png" class="etf-flag">
                    <span class="etf-country">南韓</span>
                    <span class="etf-symbol">EWY</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="tw">
                    <img src="https://flagcdn.com/w40/tw.png" class="etf-flag">
                    <span class="etf-country">台灣</span>
                    <span class="etf-symbol">EWT</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="hk">
                    <img src="https://flagcdn.com/w40/hk.png" class="etf-flag">
                    <span class="etf-country">香港</span>
                    <span class="etf-symbol">EWH</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="sg">
                    <img src="https://flagcdn.com/w40/sg.png" class="etf-flag">
                    <span class="etf-country">新加坡</span>
                    <span class="etf-symbol">EWS</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 東南亞 ETF -->
        <div class="etf-card" style="left: 60.2%; top: 71.3%;">
            <div class="etf-card-header">
                <div class="etf-card-title">東南亞 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="in">
                    <img src="https://flagcdn.com/w40/in.png" class="etf-flag">
                    <span class="etf-country">印度</span>
                    <span class="etf-symbol">INDA</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="th">
                    <img src="https://flagcdn.com/w40/th.png" class="etf-flag">
                    <span class="etf-country">泰國</span>
                    <span class="etf-symbol">THD</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="vn">
                    <img src="https://flagcdn.com/w40/vn.png" class="etf-flag">
                    <span class="etf-country">越南</span>
                    <span class="etf-symbol">VNM</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="ph">
                    <img src="https://flagcdn.com/w40/ph.png" class="etf-flag">
                    <span class="etf-country">菲律賓</span>
                    <span class="etf-symbol">EPHE</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="my">
                    <img src="https://flagcdn.com/w40/my.png" class="etf-flag">
                    <span class="etf-country">馬來西亞</span>
                    <span class="etf-symbol">EWM</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="id">
                    <img src="https://flagcdn.com/w40/id.png" class="etf-flag">
                    <span class="etf-country">印尼</span>
                    <span class="etf-symbol">EIDO</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 澳洲 ETF -->
        <div class="etf-card" style="left: 80.2%; top: 79.1%;">
            <div class="etf-card-header">
                <div class="etf-card-title">澳洲 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="au">
                    <img src="https://flagcdn.com/w40/au.png" class="etf-flag">
                    <span class="etf-country">澳洲</span>
                    <span class="etf-symbol">EWA</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 中東 ETF -->
        <div class="etf-card" style="left: 57.8%; top: 36.6%;">
            <div class="etf-card-header">
                <div class="etf-card-title">中東 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="tr">
                    <img src="https://flagcdn.com/w40/tr.png" class="etf-flag">
                    <span class="etf-country">土耳其</span>
                    <span class="etf-symbol">TUR</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="sa">
                    <img src="https://flagcdn.com/w40/sa.png" class="etf-flag">
                    <span class="etf-country">沙烏地</span>
                    <span class="etf-symbol">KSA</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="il">
                    <img src="https://flagcdn.com/w40/il.png" class="etf-flag">
                    <span class="etf-country">以色列</span>
                    <span class="etf-symbol">EIS</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
                <div class="etf-item" data-country="ae">
                    <img src="https://flagcdn.com/w40/ae.png" class="etf-flag">
                    <span class="etf-country">阿聯酋</span>
                    <span class="etf-symbol">UAE</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>

        <!-- 非洲 ETF -->
        <div class="etf-card" style="left: 43.7%; top: 86%;">
            <div class="etf-card-header">
                <div class="etf-card-title">非洲 ETF</div>
                <div class="etf-position-display" title="點擊複製位置"></div>
            </div>
            <div class="etf-list">
                <div class="etf-item" data-country="za">
                    <img src="https://flagcdn.com/w40/za.png" class="etf-flag">
                    <span class="etf-country">南非</span>
                    <span class="etf-symbol">EZA</span>
                    <span class="etf-price skeleton">------</span>
                    <span class="etf-change neutral skeleton">------</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 浮動國旗調整面板 -->
    <button class="flag-adjuster-toggle" id="flagAdjusterToggle" onclick="toggleFlagAdjuster()">
        <span class="material-symbols-outlined">tune</span>
    </button>

    <div class="flag-adjuster-panel" id="flagAdjusterPanel">
        <div class="flag-adjuster-header" id="flagAdjusterHeader">
            <span class="flag-adjuster-title">
                <span class="material-symbols-outlined">tune</span>
                國旗位置調整
            </span>
            <button class="flag-adjuster-close" onclick="toggleFlagAdjuster()">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>

        <div class="flag-adjuster-content">
            <!-- 國家選擇 -->
            <div class="adjuster-section">
                <label>選擇國家</label>
                <select id="flagCountrySelect" onchange="selectFlagCountry(this.value)">
                    <optgroup label="股市指數 + ETF">
                        <option value="us">🇺🇸 美國</option>
                        <option value="gb">🇬🇧 英國</option>
                        <option value="de">🇩🇪 德國</option>
                        <option value="fr">🇫🇷 法國</option>
                        <option value="kr">🇰🇷 南韓</option>
                        <option value="jp">🇯🇵 日本</option>
                        <option value="hk">🇭🇰 香港</option>
                        <option value="tw">🇹🇼 台灣</option>
                    </optgroup>
                    <optgroup label="美洲">
                        <option value="ca">🇨🇦 加拿大</option>
                        <option value="br">🇧🇷 巴西</option>
                        <option value="mx">🇲🇽 墨西哥</option>
                        <option value="ar">🇦🇷 阿根廷</option>
                        <option value="co">🇨🇴 哥倫比亞</option>
                    </optgroup>
                    <optgroup label="歐洲">
                        <option value="it">🇮🇹 義大利</option>
                        <option value="es">🇪🇸 西班牙</option>
                        <option value="nl">🇳🇱 荷蘭</option>
                        <option value="ch">🇨🇭 瑞士</option>
                        <option value="pl">🇵🇱 波蘭</option>
                        <option value="be">🇧🇪 比利時</option>
                        <option value="se">🇸🇪 瑞典</option>
                        <option value="ie">🇮🇪 愛爾蘭</option>
                        <option value="at">🇦🇹 奧地利</option>
                        <option value="no">🇳🇴 挪威</option>
                        <option value="dk">🇩🇰 丹麥</option>
                    </optgroup>
                    <optgroup label="亞太">
                        <option value="cn">🇨🇳 中國</option>
                        <option value="in">🇮🇳 印度</option>
                        <option value="id">🇮🇩 印尼</option>
                        <option value="sg">🇸🇬 新加坡</option>
                        <option value="th">🇹🇭 泰國</option>
                        <option value="vn">🇻🇳 越南</option>
                        <option value="ph">🇵🇭 菲律賓</option>
                        <option value="my">🇲🇾 馬來西亞</option>
                        <option value="au">🇦🇺 澳洲</option>
                    </optgroup>
                    <optgroup label="中東/非洲">
                        <option value="tr">🇹🇷 土耳其</option>
                        <option value="sa">🇸🇦 沙烏地</option>
                        <option value="il">🇮🇱 以色列</option>
                        <option value="ae">🇦🇪 阿聯酋</option>
                        <option value="za">🇿🇦 南非</option>
                    </optgroup>
                </select>
            </div>

            <!-- 方向控制 -->
            <div class="adjuster-section">
                <label>位置調整</label>
                <div class="adjuster-direction-pad">
                    <div></div>
                    <button class="adjuster-btn" onclick="moveFlagDirection('up')">
                        <span class="material-symbols-outlined">arrow_upward</span>
                    </button>
                    <div></div>
                    <button class="adjuster-btn" onclick="moveFlagDirection('left')">
                        <span class="material-symbols-outlined">arrow_back</span>
                    </button>
                    <button class="adjuster-btn center" onclick="resetFlagPosition()">
                        <span class="material-symbols-outlined">filter_center_focus</span>
                    </button>
                    <button class="adjuster-btn" onclick="moveFlagDirection('right')">
                        <span class="material-symbols-outlined">arrow_forward</span>
                    </button>
                    <div></div>
                    <button class="adjuster-btn" onclick="moveFlagDirection('down')">
                        <span class="material-symbols-outlined">arrow_downward</span>
                    </button>
                    <div></div>
                </div>
            </div>

            <!-- 座標調整 -->
            <div class="adjuster-section">
                <label>座標 (拖曳地圖國旗或使用滑桿)</label>
                <div class="adjuster-slider-row">
                    <span>經度</span>
                    <input type="range" id="lonSlider" min="-180" max="180" step="0.5" value="0" oninput="adjustFlagBySlider('lon', this.value)">
                    <div class="adjuster-value" id="adjusterLon">0.0</div>
                </div>
                <div class="adjuster-slider-row">
                    <span>緯度</span>
                    <input type="range" id="latSlider" min="-90" max="90" step="0.5" value="0" oninput="adjustFlagBySlider('lat', this.value)">
                    <div class="adjuster-value" id="adjusterLat">0.0</div>
                </div>
            </div>

            <!-- 大小控制 -->
            <div class="adjuster-section">
                <label>大小 (圓形直徑)</label>
                <div class="adjuster-param">
                    <span>縮放</span>
                    <button class="adjuster-btn-sm" onclick="adjustFlagSize(-10)">
                        <span class="material-symbols-outlined">remove</span>
                    </button>
                    <button class="adjuster-btn-sm" onclick="adjustFlagSize(10)">
                        <span class="material-symbols-outlined">add</span>
                    </button>
                </div>
                <div class="adjuster-size-display">
                    直徑: <span id="adjusterSize">120</span> px
                </div>
            </div>

            <!-- 動作按鈕 -->
            <div class="adjuster-actions">
                <button class="adjuster-action-btn primary" onclick="copyFlagConfig()">
                    <span class="material-symbols-outlined">content_copy</span>
                    複製當前
                </button>
                <button class="adjuster-action-btn secondary" onclick="exportAllFlags()">
                    <span class="material-symbols-outlined">download</span>
                    匯出全部
                </button>
            </div>
        </div>
    </div>

    <!-- 提示訊息 -->
    <div class="flag-toast" id="flagToast">已複製！</div>

    <!-- 字体加载检测 -->
    <script>
        // 检测 Material Symbols 字体是否加载完成
        if (document.fonts && document.fonts.ready) {
            document.fonts.ready.then(function() {
                document.body.classList.add('fonts-loaded');
            });
        } else {
            // 回退方案：延迟显示（适用于不支持 Font Loading API 的浏览器）
            window.addEventListener('load', function() {
                setTimeout(function() {
                    document.body.classList.add('fonts-loaded');
                }, 100);
            });
        }
    </script>

    <script src="etf-config.js"></script>
    <script src="stock-data.js"></script>
    <script src="script.js"></script>
</body>
</html>
